<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:core="clr-namespace:RoofSheetMaster.Core;assembly=RoofSheetMaster.Core"
        x:Class="RoofSheetMaster.Desktop.MainWindow"
        Width="800" Height="600"
        Title="RoofSheetMaster - Simple Face / Gable">

  <Grid RowDefinitions="Auto,*">
    <!-- Input area -->
    <StackPanel Margin="10" Spacing="4">

      <TextBlock Text="Roof type" />
      <ComboBox x:Name="RoofTypeComboBox" Width="150" SelectedIndex="0">
        <ComboBoxItem Content="Single face" />
        <ComboBoxItem Content="Gable roof" />
      </ComboBox>

      <TextBlock Text="Roof length (along eave)" Margin="0,8,0,0" />
      <TextBox x:Name="RoofLengthTextBox" Text="40" Width="120"/>

      <TextBlock Text="Roof width (eave to ridge, horizontal)" Margin="0,4,0,0"/>
      <TextBox x:Name="RoofWidthTextBox" Text="15" Width="120"/>

      <TextBlock Text="Roof angle (degrees)" Margin="0,4,0,0"/>
      <TextBox x:Name="RoofAngleTextBox" Text="26.565" Width="120"/>

      <TextBlock Text="Sheet width" Margin="0,4,0,0"/>
      <TextBox x:Name="SheetWidthTextBox" Text="3" Width="120"/>

      <TextBlock Text="Sheet overlap" Margin="0,4,0,0"/>
      <TextBox x:Name="SheetOverlapTextBox" Text="0.125" Width="120"/>

      <TextBlock Text="Ridge gap" Margin="0,4,0,0"/>
      <TextBox x:Name="RidgeGapTextBox" Text="0" Width="120"/>

      <Button x:Name="CalculateButton"
              Content="Calculate"
              Margin="0,10,0,0"
              Width="120"
              Click="OnCalculateClick" />

      <TextBlock x:Name="ResultSummaryTextBlock"
                 Margin="0,6,0,0"
                 FontWeight="Bold" />
    </StackPanel>

    <!-- Output area: panel list -->
    <ListBox x:Name="PanelListBox"
             Grid.Row="1"
             Margin="10">
      <ListBox.ItemTemplate>
        <DataTemplate x:DataType="core:Panel">
          <TextBlock>
            <!-- Face (only set for gable) -->
            <Run Text="{Binding Face}"/>
            <Run Text=" " />
            <Run Text="Panel "/>
            <Run Text="{Binding Index}"/>
            <Run Text=": cover="/>
            <Run Text="{Binding EffectiveWidth, StringFormat='{}{0:F3}'}"/>
            <Run Text=", length="/>
            <Run Text="{Binding SheetLength, StringFormat='{}{0:F3}'}"/>
          </TextBlock>
        </DataTemplate>
      </ListBox.ItemTemplate>
    </ListBox>
  </Grid>
</Window>
